<html>
  <head>
    <title>Lab Maps</title>
    <meta charset="utf-8" />
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
    />

    <style>
      html,
      body {
        height: 100%;
        padding: 0;
        margin: 0;
      }
      #map {
        /* configure the size of the map */
        width: 100%;
        height: 100%;
      }
    </style>
  </head>

  <body>
    <div id="map"></div>
  </body>

  <script defer>
    let config = {
      minZoom: 6,
      maxZoom: 19,
    };

    const zoom = 18;
    const lat = 35.31796;
    const lng = 25.10308;

    var map = L.map("map", config).setView([lat, lng], zoom);

    // add the OpenStreetMap tiles
    L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png", {
      maxZoom: 19,
      attribution:
        '&copy; <a href="https://openstreetmap.org/copyright">OpenStreetMap contributors</a> | HMU data provided by <a href="https://poiw.org">po/iw hackerspace</a>.',
    }).addTo(map);

    // show the scale bar on the lower left corner
    L.control.scale({ imperial: true, metric: true }).addTo(map);

    // show a marker on the map
    L.marker({ lat: 35.3184293, lon: 25.1032471 })
      .bindPopup("po/iw hackerspace. Φοιτητικό εργαστήριο ελευθέρας χρήσης.")
      .addTo(map);

    L.marker({ lon: 67.36673884, lat: 25.10293555 })
      .bindPopup("Γεωπονία")
      .addTo(map);

    // obtaining coordinates after clicking on the map
    map.on("click", function (e) {
      console.log(e.latlng);
      L.marker(e.latlng, {
        draggable: true,
        autoPan: true,
      })
        .addTo(map)
        .on("dragend", function (e) {
          console.log(e.latlng);
        });
    });
  </script>
</html>
